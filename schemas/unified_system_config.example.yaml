# Unified System Configuration Example
# Copy this file to config.yaml and modify as needed
#
# Environment variable overrides:
#   All values can be overridden with UNIFIED_ prefix
#   Example: UNIFIED_LOGGER_LEVEL=debug

unified_system:
  # Thread pool configuration
  thread:
    pool_size: 0        # 0 = auto-detect (hardware concurrency)
    queue_type: lockfree # mutex | lockfree | bounded
    max_queue_size: 10000
    thread_name_prefix: worker

  # Logging configuration
  logger:
    level: info         # trace | debug | info | warn | error | critical | off
    writers:
      - console
      # - file
      # - rotating_file
      # - json
    async: true
    buffer_size: 8192
    file_path: ./logs/app.log
    max_file_size: 10485760    # 10MB
    max_backup_files: 5
    format_pattern: "[%Y-%m-%d %H:%M:%S.%e] [%l] [%t] %v"

  # Monitoring and observability
  monitoring:
    enabled: true
    metrics_interval_ms: 5000
    health_check_interval_ms: 30000
    prometheus_port: 9090
    prometheus_path: /metrics
    tracing:
      enabled: false
      sampling_rate: 0.1    # 10% of requests
      exporter: otlp        # otlp | jaeger | zipkin | console
      endpoint: "http://localhost:4317"

  # Database configuration (optional)
  # database:
  #   backend: postgresql
  #   connection_string: "postgresql://user:pass@localhost:5432/dbname"
  #   log_queries: false
  #   slow_query_threshold_ms: 1000
  #   pool:
  #     min_size: 5
  #     max_size: 20
  #     idle_timeout_ms: 60000
  #     acquire_timeout_ms: 5000

  # Network configuration
  network:
    compression: lz4      # none | lz4 | gzip | deflate | zstd
    buffer_size: 65536
    connect_timeout_ms: 5000
    io_timeout_ms: 30000
    keepalive_interval_ms: 15000
    max_connections: 10000
    tls:
      enabled: true
      version: "1.3"      # "1.2" | "1.3"
      # cert_path: /path/to/cert.pem
      # key_path: /path/to/key.pem
      # ca_path: /path/to/ca.pem
      verify_peer: true
