> **Language:** [English](ERROR_CODE_REGISTRY.md) | **한국어**

# 에러 코드 레지스트리

이 문서는 unified_system 생태계 전체에서 사용되는 모든 에러 코드의 완전한 참조를 제공합니다.

## 에러 코드 범위

| 시스템 | 범위 | 네임스페이스 |
|--------|------|-----------|
| 성공 | 0 | `common_errors::success` |
| 공통 | -1 ~ -99 | `codes::common_errors` |
| thread_system | -100 ~ -199 | `codes::thread_system` |
| logger_system | -200 ~ -299 | `codes::logger_system` |
| monitoring_system | -300 ~ -399 | `codes::monitoring_system` |
| container_system | -400 ~ -499 | `codes::container_system` |
| database_system | -500 ~ -599 | `codes::database_system` |
| network_system | -600 ~ -699 | `codes::network_system` |
| 예약됨 | -1000+ | 미래 시스템용 |

---

## 공통 에러 코드 (-1 ~ -99)

모든 시스템에서 발생할 수 있는 에러입니다.

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| 0 | `success` | 작업 성공 | - | - |
| -1 | `invalid_argument` | 잘못된 인자 | null 포인터, 범위 초과, 잘못된 타입 | 호출 전 입력 검증 |
| -2 | `not_found` | 리소스를 찾을 수 없음 | 파일 없음, 미등록 핸들러, 삭제된 객체 | 리소스 존재 확인 |
| -3 | `permission_denied` | 권한 부족 | 잘못된 자격증명, 접근 권한 없음 | 권한/자격증명 확인 |
| -4 | `timeout` | 작업 시간 초과 | 느린 네트워크, 데드락, 과부하 | 타임아웃 증가 또는 재시도 |
| -5 | `cancelled` | 작업 취소됨 | 사용자 취소, 종료 | 사용 전 취소 상태 확인 |
| -6 | `not_initialized` | 초기화되지 않음 | init 호출 누락, 잘못된 순서 | initialize() 먼저 호출 |
| -7 | `already_exists` | 이미 존재함 | 중복 등록, 파일 존재 | 생성 전 존재 여부 확인 |
| -8 | `out_of_memory` | 메모리 할당 실패 | 큰 할당, 메모리 누수 | 미사용 리소스 해제 |
| -9 | `io_error` | I/O 작업 실패 | 디스크 가득 참, 파일 잠금, 하드웨어 오류 | 저장소/권한 확인 |
| -10 | `network_error` | 네트워크 작업 실패 | 연결 없음, DNS 실패 | 네트워크 연결 확인 |
| -99 | `internal_error` | 내부 시스템 오류 | 버그, 예상치 못한 상태 | 로그와 함께 이슈 보고 |

---

## thread_system 에러 코드 (-100 ~ -199)

스레드 풀, 워커, 작업 스케줄링 관련 에러입니다.

### 풀 에러 (-100 ~ -119)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -100 | `pool_full` | 스레드 풀이 가득 참 | 동시 작업이 너무 많음 | 대기 또는 풀 크기 증가 |
| -101 | `pool_shutdown` | 스레드 풀 종료 중 | shutdown 호출됨 | 새 작업 제출 금지 |
| -102 | `pool_not_started` | 스레드 풀 미시작 | start() 미호출 | start() 먼저 호출 |
| -103 | `invalid_pool_size` | 잘못된 풀 크기 | 0 또는 음수 크기 | 양수 풀 크기 사용 |

### 워커 에러 (-120 ~ -139)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -120 | `worker_failed` | 워커 스레드 실패 | 처리되지 않은 예외, 크래시 | 에러 로그 확인 |
| -121 | `worker_not_found` | 워커를 찾을 수 없음 | 잘못된 워커 ID | 워커 존재 확인 |
| -122 | `worker_busy` | 워커가 바쁨 | 장시간 실행 작업 | 대기 또는 다른 워커 사용 |

### 작업 에러 (-140 ~ -159)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -140 | `job_rejected` | 작업 거부됨 | 풀 가득 참, 잘못된 작업 | 재시도 또는 작업 검증 |
| -141 | `job_timeout` | 작업 실행 시간 초과 | 무한 루프, 데드락 | 타임아웃 증가 또는 작업 수정 |
| -142 | `job_cancelled` | 작업 취소됨 | 수동 취소 | 예상된 동작 |
| -143 | `invalid_job` | 잘못된 작업 명세 | null 함수, 잘못된 파라미터 | 제출 전 작업 검증 |

### 큐 에러 (-160 ~ -179)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -160 | `queue_full` | 작업 큐가 가득 참 | 대기 작업이 너무 많음 | 대기 또는 큐 크기 증가 |
| -161 | `queue_empty` | 작업 큐가 비어 있음 | 대기 작업 없음 | 새 작업 대기 |
| -162 | `queue_stopped` | 큐가 중지됨 | 종료 진행 중 | 종료 중 예상된 동작 |

---

## logger_system 에러 코드 (-200 ~ -299)

로깅 및 로그 파일 관리 관련 에러입니다.

### 파일 에러 (-200 ~ -219)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -200 | `file_open_failed` | 로그 파일 열기 실패 | 잘못된 경로, 권한 | 경로와 권한 확인 |
| -201 | `file_write_failed` | 로그 파일 쓰기 실패 | 디스크 가득 참, 파일 잠금 | 디스크 공간 확인 |
| -202 | `file_close_failed` | 로그 파일 닫기 실패 | 시스템 오류 | 리소스 누수 확인 |
| -203 | `file_rotation_failed` | 로그 회전 실패 | 디스크 가득 참, 권한 | 디스크/권한 확인 |
| -204 | `file_permission_denied` | 파일 권한 없음 | 잘못된 소유자, ACL | 파일 권한 수정 |

### 라이터 에러 (-220 ~ -239)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -220 | `writer_not_initialized` | 로거 미초기화 | init 호출 누락 | 로거 먼저 초기화 |
| -221 | `writer_stopped` | 로거 라이터 중지됨 | shutdown 호출됨 | 로거 재시작 |
| -222 | `writer_full` | 쓰기 버퍼 가득 참 | 로그 항목이 너무 많음 | 대기 또는 플러시 |
| -223 | `async_writer_failed` | 비동기 라이터 실패 | 스레드 문제 | 비동기 설정 확인 |

### 포맷 에러 (-240 ~ -259)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -240 | `invalid_format` | 잘못된 로그 포맷 | 잘못된 포맷 문자열 | 포맷 문자열 수정 |
| -241 | `format_error` | 포맷팅 실패 | 타입 불일치 | 인자 타입 확인 |

### 필터 에러 (-260 ~ -279)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -260 | `invalid_filter` | 잘못된 필터 설정 | 잘못된 정규식, null 필터 | 필터 검증 |
| -261 | `filter_rejected` | 필터에 의해 로그 거부됨 | 예상된 동작 | 필터 설정 조정 |

---

## monitoring_system 에러 코드 (-300 ~ -399)

메트릭, 이벤트, 프로파일링 관련 에러입니다.

### 메트릭 에러 (-300 ~ -319)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -300 | `metric_not_found` | 메트릭 미등록 | 오타, 미생성 | 메트릭 먼저 등록 |
| -301 | `invalid_metric_type` | 잘못된 메트릭 타입 | Counter vs Gauge | 올바른 타입 사용 |
| -302 | `metric_collection_failed` | 수집 실패 | 시스템 오류 | 권한 확인 |

### 저장소 에러 (-320 ~ -339)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -320 | `storage_full` | 메트릭 저장소 가득 참 | 메트릭이 너무 많음 | 제한 증가 또는 정리 |
| -321 | `storage_error` | 저장소 작업 실패 | I/O 오류 | 저장소 시스템 확인 |

### 이벤트 에러 (-340 ~ -359)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -340 | `event_publish_failed` | 이벤트 발행 실패 | 버스 미실행 | 이벤트 버스 시작 |
| -341 | `event_subscribe_failed` | 구독 실패 | 잘못된 핸들러 | 핸들러 함수 수정 |
| -342 | `invalid_event_type` | 알 수 없는 이벤트 타입 | 타입 불일치 | 올바른 이벤트 타입 사용 |

### 프로파일러 에러 (-360 ~ -379)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -360 | `profiler_not_enabled` | 프로파일러 비활성화됨 | 빌드 시 미활성화 | 프로파일러 활성화 |
| -361 | `profiler_error` | 프로파일러 오류 | 리소스 고갈 | 프로파일러 설정 확인 |

---

## container_system 에러 코드 (-400 ~ -499)

값 컨테이너 및 메모리 풀 관련 에러입니다.

### 값 에러 (-400 ~ -419)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -400 | `value_type_mismatch` | 값 타입 불일치 | 잘못된 get<T>() 타입 | 저장된 타입 확인 |
| -401 | `invalid_value_type` | 지원되지 않는 값 타입 | 미등록 | 타입 먼저 등록 |
| -402 | `value_conversion_failed` | 타입 변환 실패 | 호환되지 않는 타입 | 호환 타입 사용 |

### 직렬화 에러 (-420 ~ -439)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -420 | `serialization_failed` | 직렬화 실패 | 복잡한 타입, 순환 참조 | 데이터 구조 단순화 |
| -421 | `deserialization_failed` | 역직렬화 실패 | 손상된 데이터, 버전 | 데이터 형식 확인 |
| -422 | `invalid_format` | 잘못된 데이터 형식 | 잘못된 인코딩 | 올바른 형식 사용 |

### 메모리 풀 에러 (-440 ~ -459)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -440 | `pool_exhausted` | 메모리 풀 고갈 | 높은 할당률 | 풀 크기 증가 |
| -441 | `allocation_failed` | 할당 실패 | 메모리 부족 | 리소스 해제 |
| -442 | `invalid_allocation_size` | 잘못된 크기 요청 | 0 또는 음수 | 유효한 크기 사용 |

### 컨테이너 에러 (-460 ~ -479)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -460 | `key_not_found` | 키를 찾을 수 없음 | 잘못된 키, 삭제됨 | 키 존재 확인 |
| -461 | `duplicate_key` | 키가 이미 존재함 | 중복 삽입 | 삽입 전 확인 |
| -462 | `container_full` | 컨테이너 용량 초과 | 크기 제한 도달 | 항목 제거 또는 크기 조정 |

---

## database_system 에러 코드 (-500 ~ -599)

데이터베이스 연결 및 쿼리 관련 에러입니다.

### 연결 에러 (-500 ~ -519)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -500 | `connection_failed` | DB 연결 실패 | 잘못된 호스트/포트, DB 다운 | 연결 문자열 확인 |
| -501 | `connection_lost` | 연결 끊김 | 네트워크 문제, 타임아웃 | 재연결 |
| -502 | `connection_timeout` | 연결 시간 초과 | 느린 네트워크, 방화벽 | 타임아웃 증가 |
| -503 | `invalid_connection_string` | 잘못된 연결 문자열 | 구문 오류 | 연결 문자열 수정 |

### 풀 에러 (-520 ~ -539)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -520 | `pool_exhausted` | 연결 풀 비어 있음 | 쿼리가 너무 많음 | 대기 또는 풀 증가 |
| -521 | `pool_shutdown` | 풀 종료 중 | shutdown 호출됨 | 새 연결 요청 금지 |
| -522 | `pool_timeout` | 풀 대기 시간 초과 | 높은 경쟁 | 풀 크기 증가 |

### 쿼리 에러 (-540 ~ -559)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -540 | `query_failed` | 쿼리 실행 실패 | DB 오류, 제약조건 | 쿼리와 데이터 확인 |
| -541 | `query_syntax_error` | 잘못된 SQL 구문 | 오타, 잘못된 방언 | SQL 구문 수정 |
| -542 | `query_timeout` | 쿼리 시간 초과 | 복잡한 쿼리, 잠금 | 쿼리 최적화 |

### 트랜잭션 에러 (-560 ~ -579)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -560 | `transaction_failed` | 트랜잭션 실패 | 제약조건 위반 | 제약조건 확인 |
| -561 | `transaction_rolled_back` | 트랜잭션 롤백됨 | 충돌, 데드락 | 트랜잭션 재시도 |
| -562 | `transaction_timeout` | 트랜잭션 시간 초과 | 긴 잠금 | 트랜잭션 범위 축소 |

---

## network_system 에러 코드 (-600 ~ -699)

네트워크 통신 관련 에러입니다.

### 연결 에러 (-600 ~ -619)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -600 | `connection_failed` | 연결 수립 실패 | 호스트 접근 불가, 거부됨 | 호스트/포트 확인 |
| -601 | `connection_refused` | 연결 거부됨 | 서비스 미실행 | 서비스 시작 |
| -602 | `connection_timeout` | 연결 시간 초과 | 네트워크 지연, 방화벽 | 타임아웃 증가 |
| -603 | `connection_closed` | 연결이 닫힘 | 원격 종료, 타임아웃 | 재연결 |

### 세션 에러 (-620 ~ -639)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -620 | `session_not_found` | 세션을 찾을 수 없음 | 잘못된 세션 ID | 새 세션 생성 |
| -621 | `session_expired` | 세션 만료됨 | 타임아웃, 로그아웃 | 재인증 |
| -622 | `invalid_session` | 잘못된 세션 상태 | 손상됨, 잘못된 토큰 | 새 세션 생성 |

### 송수신 에러 (-640 ~ -659)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -640 | `send_failed` | 데이터 전송 실패 | 연결 끊김, 버퍼 가득 참 | 재시도 또는 재연결 |
| -641 | `receive_failed` | 데이터 수신 실패 | 연결 끊김, 타임아웃 | 재시도 또는 재연결 |
| -642 | `message_too_large` | 메시지 크기 초과 | 큰 페이로드 | 메시지 분할 또는 제한 증가 |

### 서버 에러 (-660 ~ -679)

| 코드 | 이름 | 설명 | 가능한 원인 | 해결 방법 |
|------|------|------|------------|----------|
| -660 | `server_not_started` | 서버 미실행 | start() 미호출 | 서버 시작 |
| -661 | `server_already_running` | 서버 이미 실행 중 | 중복 start() | 시작 전 상태 확인 |
| -662 | `bind_failed` | 포트 바인딩 실패 | 포트 사용 중, 권한 | 다른 포트 사용 |

---

## 사용 예제

```cpp
#include <kcenon/common/error/error_codes.h>

using namespace kcenon::common::error;

void handle_error(int code) {
    // 사람이 읽을 수 있는 메시지 가져오기
    auto message = get_error_message(code);

    // 에러 카테고리 가져오기
    auto category = get_category_name(code);

    std::cerr << "[" << category << "] 에러 " << code
              << ": " << message << std::endl;
}

// 사용 예시
auto result = some_operation();
if (result.is_err()) {
    handle_error(result.error().code());
}
```

---

## 새 에러 코드 추가하기

새 에러 코드를 추가할 때:

1. 적절한 카테고리 네임스페이스 선택
2. 범위 내에서 다음 사용 가능한 코드 사용
3. error_codes.h의 `get_error_message()`에 케이스 추가
4. 이 문서 업데이트
5. 필요시 컴파일 타임 검증 추가

자세한 가이드라인은 [ERROR_CODE_GUIDELINES.md](guides/ERROR_CODE_GUIDELINES.md)를 참조하세요.

---

**최종 업데이트**: 2025-11-23
